<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      * {
        box-sizing: border-box;
      }

      :root {
        /* Light theme (default) */
        --primary: #f8f8f0; /* Lighter beige for better contrast */
        --primary-dark: #e8e8d8;
        --secondary: #000080; /* Navy */
        --text: #222222; /* Darker text for better readability */
        --text-light: #444444;
        --border: #c0b090; /* Warmer tan */
        --shadow: rgba(0, 0, 0, 0.15);
      }

      /* Dark theme */
      [data-theme="dark"] {
        --primary: #333333;
        --primary-dark: #282828;
        --secondary: #7aa7ff;
        --text: #f0f0e0;
        --text-light: #d2b48c;
        --border: #6d6d6d;
        --shadow: rgba(0, 0, 0, 0.5);
      }

      body {
        margin: 0;
        padding: 0;
        height: 100vh;
        font-family: "Courier New", Courier, monospace;
        background: var(--primary);
        color: var(--text);
        overflow-x: hidden;
        transition: background-color 0.3s ease, color 0.3s ease;
        font-weight: 500;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .container {
        height: 100vh;
        display: flex;
        flex-direction: column;
        padding: 16px;
        gap: 16px;
        background: repeating-linear-gradient(
          0deg,
          var(--primary),
          var(--primary) 1px,
          var(--primary-dark) 1px,
          var(--primary-dark) 2px
        );
        background-size: 100% 2px;
        background-attachment: local;
      }

      .header {
        background: var(--primary);
        border-radius: 4px;
        padding: 16px;
        border: 2px solid var(--secondary);
        box-shadow: 4px 4px 0 var(--shadow);
        position: relative;
        overflow: hidden;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--secondary), transparent);
      }

      h2 {
        margin: 0 0 8px 0;
        color: var(--secondary);
        font-size: 20px;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        text-shadow: 1px 1px 0 var(--primary-dark);
      }

      .content {
        flex: 1;
        background: var(--primary);
        border-radius: 4px;
        padding: 20px;
        border: 2px solid var(--secondary);
        box-shadow: 4px 4px 0 var(--shadow);
        display: flex;
        flex-direction: column;
        gap: 20px;
        min-height: 0;
        position: relative;
        overflow: hidden;
      }

      .content::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: repeating-linear-gradient(
          0deg,
          transparent,
          transparent 19px,
          rgba(0, 0, 0, 0.03) 19px,
          rgba(0, 0, 0, 0.03) 20px
        );
        pointer-events: none;
      }

      .form-section {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      label {
        font-weight: 800;
        color: var(--secondary);
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 8px;
        display: inline-block;
        border-bottom: 2px solid var(--secondary);
        padding-bottom: 4px;
      }

      select,
      textarea {
        padding: 12px 14px;
        border: 2px solid var(--secondary);
        border-radius: 0;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.2s;
        background: var(--primary);
        color: var(--text);
        font-family: "Courier New", Courier, monospace;
        box-shadow: 2px 2px 0 var(--shadow);
      }

      select:focus,
      textarea:focus {
        outline: none;
        border-color: var(--secondary);
        box-shadow: 0 0 0 2px var(--secondary);
      }

      select:hover,
      textarea:hover {
        background-color: var(--primary-dark);
      }

      textarea {
        min-height: 120px;
        max-height: 200px;
        resize: vertical;
        font-family: "Courier New", Courier, monospace;
        font-size: 13px;
        line-height: 1.6;
        color: var(--text);
        background: repeating-linear-gradient(
          to bottom,
          transparent,
          transparent 20px,
          rgba(0, 0, 0, 0.03) 20px,
          rgba(0, 0, 0, 0.03) 21px
        );
        background-color: var(--primary);
      }

      .button-container {
        margin-top: auto;
        padding-top: 20px;
        border-top: 2px dashed var(--secondary);
        position: relative;
      }

      .button-container::before {
        content: "▶";
        position: absolute;
        top: -10px;
        left: -10px;
        color: var(--secondary);
        font-size: 14px;
      }

      button {
        width: 100%;
        padding: 14px;
        background: var(--secondary);
        color: var(--primary);
        border: 2px solid var(--secondary);
        border-radius: 0;
        font-size: 15px;
        font-weight: 800;
        font-family: "Courier New", Courier, monospace;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        cursor: pointer;
        transition: all 0.2s;
        position: relative;
        overflow: hidden;
        box-shadow: 3px 3px 0 var(--shadow);
      }

      button:hover:not(:disabled) {
        background: var(--primary);
        color: var(--secondary);
        transform: translate(-1px, -1px);
        box-shadow: 4px 4px 0 var(--shadow);
      }

      button:active {
        transform: translate(0, 0);
        box-shadow: 2px 2px 0 var(--shadow);
      }

      button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .result-container {
        margin-top: 20px;
        border-top: 2px dashed var(--secondary);
        padding-top: 16px;
        position: relative;
      }

      .result-container::before {
        content: "▶";
        position: absolute;
        top: -10px;
        left: -10px;
        color: var(--secondary);
        font-size: 14px;
      }

      #result {
        padding: 16px;
        border-radius: 0;
        font-size: 14px;
        font-weight: 600;
        white-space: pre-wrap;
        line-height: 1.7;
        display: none;
        border: 2px solid var(--secondary);
        font-family: "Courier New", Courier, monospace;
        background: var(--primary);
        color: var(--text);
        box-shadow: 3px 3px 0 var(--shadow);
        position: relative;
        overflow: auto;
        max-height: 200px;
      }

      .result-success {
        background: repeating-linear-gradient(
          45deg,
          rgba(0, 128, 0, 0.1),
          rgba(0, 128, 0, 0.1) 10px,
          rgba(0, 100, 0, 0.1) 10px,
          rgba(0, 100, 0, 0.1) 20px
        );
        border-color: #4caf50;
        color: #2e7d32;
      }

      .result-error {
        background: repeating-linear-gradient(
          45deg,
          rgba(244, 67, 54, 0.1),
          rgba(244, 67, 54, 0.1) 10px,
          rgba(198, 40, 40, 0.1) 10px,
          rgba(198, 40, 40, 0.1) 20px
        );
        border-color: #f44336;
        color: #c62828;
      }

      .result-info {
        background: repeating-linear-gradient(
          45deg,
          rgba(33, 150, 243, 0.1),
          rgba(33, 150, 243, 0.1) 10px,
          rgba(13, 71, 161, 0.1) 10px,
          rgba(13, 71, 161, 0.1) 20px
        );
        border-color: #2196f3;
        color: #0d47a1;
      }

      .loading {
        display: inline-block;
        width: 16px;
        height: 16px;
        border: 2px solid var(--primary);
        border-top: 2px solid var(--secondary);
        border-right: 2px solid var(--secondary);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
        margin-right: 8px;
        vertical-align: middle;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .badge {
        display: inline-block;
        background: var(--secondary);
        color: var(--primary);
        padding: 2px 6px;
        border-radius: 2px;
        font-size: 10px;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-left: 8px;
        position: relative;
        top: -2px;
        box-shadow: 1px 1px 0 var(--shadow);
        color: white;
        font-size: 11px;
        font-weight: 500;
        padding: 2px 6px;
        border-radius: 10px;
        margin-left: 8px;
      }

      /* Scrollbar styling */
      ::-webkit-scrollbar {
        width: 6px;
      }

      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }

      ::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 3px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h2>Locator Inspector <span class="badge">DevTools</span></h2>
        <button
          id="themeToggle"
          title="Toggle dark/light mode"
          style="
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            color: var(--secondary);
          "
        >
          <svg
            id="sunIcon"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            style="display: none"
          >
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg
            id="moonIcon"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      </div>

      <div class="content">
        <div class="form-section">
          <div class="form-group">
            <label for="type">Locator Type</label>
            <select id="type">
              <option value="css">CSS Selector</option>
              <option value="xpath">XPath</option>
              <option value="playwright">Playwright</option>
              <option value="smart">Smart Locator</option>
            </select>
          </div>

          <div class="form-group">
            <label for="locator">Locator Expression</label>
            <textarea
              id="locator"
              placeholder="Enter your locator here..."
            ></textarea>
          </div>
        </div>

        <div class="result-container">
          <div id="result"></div>
        </div>
      </div>
    </div>

    <script src="theme.js"></script>
    <script type="module" src="popup/popup.js"></script>
  </body>
</html>
